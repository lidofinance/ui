"use strict";(self.webpackChunk_lidofinance_lido_ui=self.webpackChunk_lidofinance_lido_ui||[]).push([[4317],{"./packages/chart-line/ChartLine.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,ChartInModal:()=>ChartInModal,default:()=>ChartLine_stories});var ChartLineThresholdType,ChartLineBorderType,jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),icons=__webpack_require__("./packages/icons/index.tsx"),react=__webpack_require__("./node_modules/react/index.js"),loaders=__webpack_require__("./packages/loaders/index.ts");!function(ChartLineThresholdType){ChartLineThresholdType.dash="dash",ChartLineThresholdType.flag="flag"}(ChartLineThresholdType||(ChartLineThresholdType={})),function(ChartLineBorderType){ChartLineBorderType.rounded="rounded",ChartLineBorderType.square="square"}(ChartLineBorderType||(ChartLineBorderType={}));var styled_components_wrapper=__webpack_require__("./packages/utils/styled-components-wrapper.ts");function _tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _templateObject(){var data=_tagged_template_literal(["\n  display: flex;\n  width: 100%;\n  align-items: ",";\n  height: ","px;\n"]);return _templateObject=function _templateObject(){return data},data}function _templateObject1(){var data=_tagged_template_literal(["\n        border-radius: 4px;\n      "]);return _templateObject1=function _templateObject(){return data},data}function _templateObject2(){var data=_tagged_template_literal([""]);return _templateObject2=function _templateObject(){return data},data}function _templateObject3(){var data=_tagged_template_literal(["\n  display: flex;\n  width: 100%;\n  height: ","px;\n  background: rgb(19 18 23 / 8%);\n  position: relative;\n\n  ","\n"]);return _templateObject3=function _templateObject(){return data},data}function _templateObject4(){var data=_tagged_template_literal(["\n        bottom: -2px;\n        top: unset;\n      "]);return _templateObject4=function _templateObject(){return data},data}function _templateObject5(){var data=_tagged_template_literal([""]);return _templateObject5=function _templateObject(){return data},data}function _templateObject6(){var data=_tagged_template_literal(["\n        height: ","px;\n        top: -2px;\n      "]);return _templateObject6=function _templateObject(){return data},data}function _templateObject7(){var data=_tagged_template_literal([""]);return _templateObject7=function _templateObject(){return data},data}function _templateObject8(){var data=_tagged_template_literal(["\n  height: ","px;\n  width: 5px;\n  background-color: ",";\n  z-index: ",";\n  position: absolute;\n  border-radius: 3px;\n  top: -2px;\n  right: -2px;\n\n  ","\n\n  ","\n"]);return _templateObject8=function _templateObject(){return data},data}function _templateObject9(){var data=_tagged_template_literal(["\n        top: -2px;\n        bottom: unset;\n      "]);return _templateObject9=function _templateObject(){return data},data}function _templateObject10(){var data=_tagged_template_literal([""]);return _templateObject10=function _templateObject(){return data},data}function _templateObject11(){var data=_tagged_template_literal(["\n  color: ",";\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 20px;\n  padding: 4px 8px;\n  position: absolute;\n  bottom: -2px;\n  right: 0;\n  border-radius: 4px;\n  white-space: nowrap;\n  box-sizing: border-box;\n  max-height: 28px;\n\n  ",";\n"]);return _templateObject11=function _templateObject(){return data},data}function _templateObject12(){var data=_tagged_template_literal(["\n        border-radius: 4px 0 0 4px;\n      "]);return _templateObject12=function _templateObject(){return data},data}function _templateObject13(){var data=_tagged_template_literal([""]);return _templateObject13=function _templateObject(){return data},data}function _templateObject14(){var data=_tagged_template_literal(["\n          border-radius: 4px;\n        "]);return _templateObject14=function _templateObject(){return data},data}function _templateObject15(){var data=_tagged_template_literal([""]);return _templateObject15=function _templateObject(){return data},data}function _templateObject16(){var data=_tagged_template_literal(["\n  background-color: ",";\n  z-index: ",";\n  width: ",";\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  border-right: 1px solid ",";\n\n  ","\n\n  &:last-child {\n    ","\n  }\n"]);return _templateObject16=function _templateObject(){return data},data}var ContainerStyle=styled_components_wrapper.Ay.div(_templateObject(),(function(param){return param.$alignItems}),(function(param){return param.$height})),WrapperStyle=styled_components_wrapper.Ay.div(_templateObject3(),(function(param){return param.$height}),(function(param){return param.$border===ChartLineBorderType.rounded?(0,styled_components_wrapper.AH)(_templateObject1()):(0,styled_components_wrapper.AH)(_templateObject2())})),ThresholdStyle=styled_components_wrapper.Ay.div(_templateObject8(),(function(param){return param.$height+38}),(function(param){return param.$backgroundColor}),(function(param){return param.$zIndex}),(function(param){return"top"===param.$labelPosition?(0,styled_components_wrapper.AH)(_templateObject4()):(0,styled_components_wrapper.AH)(_templateObject5())}),(function(param){var $thresholdType=param.$thresholdType,$height=param.$height;return $thresholdType===ChartLineThresholdType.dash?(0,styled_components_wrapper.AH)(_templateObject6(),$height+4):(0,styled_components_wrapper.AH)(_templateObject7())})),ThresholdLabelStyle=styled_components_wrapper.Ay.div(_templateObject11(),(function(param){return param.theme.colors.foreground}),(function(param){return"top"===param.$labelPosition?(0,styled_components_wrapper.AH)(_templateObject9()):(0,styled_components_wrapper.AH)(_templateObject10())})),LineStyle=styled_components_wrapper.Ay.div(_templateObject16(),(function(param){var $backgroundColor=param.$backgroundColor;return $backgroundColor||"transparent"}),(function(param){return param.$zIndex}),(function(param){return param.$width}),(function(param){return param.theme.colors.background}),(function(param){return param.$border===ChartLineBorderType.rounded?(0,styled_components_wrapper.AH)(_templateObject12()):(0,styled_components_wrapper.AH)(_templateObject13())}),(function(param){var $border=param.$border,$isFullWidth=param.$isFullWidth;return $border===ChartLineBorderType.rounded&&$isFullWidth?(0,styled_components_wrapper.AH)(_templateObject14()):(0,styled_components_wrapper.AH)(_templateObject15())})),getElementData=function(id,containerId){var threshold=document.getElementById(id),label=document.getElementById("".concat(id,"-description"));if(!threshold||!label)return null;var container=document.getElementById(containerId);if(!container)return null;var originalTransform=label.style.transform;label.style.removeProperty("transform");var thresholdRect=threshold.getBoundingClientRect(),labelRect=label.getBoundingClientRect(),containerRect=container.getBoundingClientRect();return originalTransform&&label.style.setProperty("transform",originalTransform),{elements:{threshold,label},rects:{threshold:thresholdRect,label:labelRect},containerRect}},handlePositioning=function(props){var _props_previousIds=props.previousIds,previousIds=void 0===_props_previousIds?[]:_props_previousIds,id=props.id,reset=props.reset,containerId=props.containerId;if("undefined"!=typeof window)if(reset)(threshold=document.getElementById(id))&&threshold.style.removeProperty("height");else{var threshold,currentData=getElementData(id,containerId);if(currentData){var label,currentElements=currentData.elements,currentRects=currentData.rects,containerRect=currentData.containerRect,currentIsInverted=function(thresholdRect,labelRect,containerRect,viewportWidth){var isInverted=(position=containerRect.right-thresholdRect.right,elemSize=labelRect.width,viewportSize=viewportWidth,position+elemSize+8>viewportSize&&viewportSize-position+elemSize+8<viewportSize);var position,elemSize,viewportSize;return isInverted}(currentRects.threshold,currentRects.label,containerRect,containerRect.width);label=currentElements.label,currentIsInverted?(label.style.setProperty("left","0px"),label.style.setProperty("right","auto"),label.dataset.isInverted="true"):(label.style.setProperty("right","0px"),label.style.setProperty("left","auto"),label.dataset.isInverted="false");var currentOffset=function(thresholdRect,labelRect,containerRect,isInverted){if(isInverted){var labelRightEdge=thresholdRect.left+labelRect.width,containerRightEdge=containerRect.right-8;if(labelRightEdge>containerRightEdge)return labelRightEdge-containerRightEdge}else{var labelLeftEdge=thresholdRect.right-labelRect.width,containerLeftEdge=containerRect.left+8;if(labelLeftEdge<containerLeftEdge)return containerLeftEdge-labelLeftEdge}return 0}(currentRects.threshold,currentRects.label,containerRect,currentIsInverted);if(currentOffset>0){var direction=currentIsInverted?-currentOffset:currentOffset;currentElements.label.style.setProperty("transform","translateX(".concat(direction,"px)"))}else currentElements.label.style.removeProperty("transform");var previousId=function(previousIds,currentId){var currentElement=document.getElementById(currentId);if(!currentElement)return null;for(var currentLabelPosition=currentElement.dataset.labelPosition,i=previousIds.length-1;i>=0;i--){var _element,id=previousIds[i];if((null===(_element=document.getElementById(id))||void 0===_element?void 0:_element.dataset.labelPosition)===currentLabelPosition)return id}return null}(previousIds,id);if(previousId){var previousData=getElementData(previousId,containerId);if(previousData){var currentRect,previousRect,currentLabelRect,previousRects=previousData.rects,previousIsInverted="true"===previousData.elements.label.dataset.isInverted;if((currentRect=currentRects.threshold,previousRect=previousRects.threshold,currentLabelRect=currentRects.label,previousIsInverted?currentRect.left-previousRect.left-currentLabelRect.width:currentRect.left-previousRect.left)<currentRects.label.width){var newHeight=previousRects.threshold.height+36;currentElements.threshold.style.setProperty("height","".concat(newHeight,"px"))}}}}}};function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var ChartLineLabel=(0,react.forwardRef)((function(props,ref){var previousIds=props.previousIds,id=props.id,color=props.color,zIndex=props.zIndex,show=props.show,labelPosition=props.labelPosition,thresholdType=props.thresholdType,height=props.height,threshold=props.threshold,containerId=props.containerId,rest=_object_without_properties(props,["previousIds","id","color","zIndex","show","labelPosition","thresholdType","height","threshold","containerId"]);if((0,react.useLayoutEffect)((function(){show&&(thresholdType!==ChartLineThresholdType.flag?handlePositioning({previousIds,id,containerId,reset:!0}):handlePositioning({previousIds,id,containerId}))}),[previousIds,id,show,thresholdType,containerId]),!show)return null;var backgroundColor=threshold.color||color,content=threshold.descriptionElement||threshold.description;return(0,jsx_runtime.jsx)(ThresholdStyle,_object_spread_props(function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}({ref,id,"data-label-position":labelPosition,$labelPosition:labelPosition,$thresholdType:thresholdType,$height:height,$backgroundColor:backgroundColor,$zIndex:zIndex},rest),{children:thresholdType===ChartLineThresholdType.flag&&(0,jsx_runtime.jsx)(ThresholdLabelStyle,{style:{backgroundColor},id:"".concat(id,"-description"),$labelPosition:labelPosition,children:content})}))}));function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function processData_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function processData_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function processData_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}ChartLineLabel.displayName="ChartLineLabel";var processData=function(data,containerId,maxValue){var _Math,calculatedMaxValue=null!=maxValue?maxValue:(_Math=Math).max.apply(_Math,_to_consumable_array(data.map((function(item){return item.threshold.value}))));return data.sort((function(a,b){return a.threshold.value-b.threshold.value})).reduce((function(acc,item,index){var threshold=item.threshold,id="".concat(containerId,"-").concat("chart-line-label","-").concat(index,"-").concat(threshold.label),width=threshold.value/(calculatedMaxValue/100),processedItem=processData_object_spread_props(function processData_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){processData_define_property(target,key,source[key])}))}return target}({},item),{id,index,width});return acc.data.push(processedItem),acc.ids.push(id),acc}),{data:[],ids:[]})};function ChartLine_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ChartLine_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ChartLine_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){ChartLine_define_property(target,key,source[key])}))}return target}function ChartLine_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ChartLine_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function ChartLine_object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function ChartLine_object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function ChartLine_unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return ChartLine_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ChartLine_array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ChartLine=(0,react.forwardRef)((function(props,ref){var _containerSize,_containerSize1,_containerSize_size,_props_loading=props.loading,loading=void 0!==_props_loading&&_props_loading,height=(props.onClick,props.children,props.height),border=props.border,data=props.data,showLabels=props.showLabels,maxValue=props.maxValue,thresholdType=props.thresholdType,rest=ChartLine_object_without_properties(props,["loading","onClick","children","height","border","data","showLabels","maxValue","thresholdType"]),_useState=_sliced_to_array((0,react.useState)(null),2),containerSize=_useState[0],setContainerSize=_useState[1],containerId=(0,react.useId)(),_useMemo=(0,react.useMemo)((function(){return processData(data,containerId,maxValue)}),[data,maxValue,containerId]),processedData=_useMemo.data,ids=_useMemo.ids,allPreviousIds=(0,react.useMemo)((function(){return ids.map((function(_,index){return ids.slice(0,index)}))}),[ids]);return(0,react.useLayoutEffect)((function(){if(showLabels){var containerSize=function(elementIds){if(!elementIds.length)return null;var isCenterAlign=elementIds.every((function(id){var _element,_element1,element=document.getElementById(id);return"top"===(null===(_element=element)||void 0===_element?void 0:_element.dataset.labelPosition)||"bottom"===(null===(_element1=element)||void 0===_element1?void 0:_element1.dataset.labelPosition)})),size=elementIds.reduce((function(acc,id){var element=document.getElementById(id);return element&&element.offsetHeight>0?Math.max(acc,element.offsetHeight):acc}),0);return{size:isCenterAlign?2*size:size,isCenterAlign}}(ids);setContainerSize(containerSize)}else setContainerSize(null)}),[ids,showLabels]),loading?(0,jsx_runtime.jsx)(WrapperStyle,ChartLine_object_spread_props(ChartLine_object_spread({$border:border,$height:height,ref},rest),{children:(0,jsx_runtime.jsx)(loaders.FL,{})})):(0,jsx_runtime.jsx)(ContainerStyle,{id:containerId,$alignItems:(null===(_containerSize=containerSize)||void 0===_containerSize?void 0:_containerSize.isCenterAlign)?"center":"flex-start",$height:null!==(_containerSize_size=null===(_containerSize1=containerSize)||void 0===_containerSize1?void 0:_containerSize1.size)&&void 0!==_containerSize_size?_containerSize_size:0,children:(0,jsx_runtime.jsx)(WrapperStyle,ChartLine_object_spread_props(ChartLine_object_spread({$border:border,$height:height,ref},rest),{children:processedData.map((function(item,index){var color=item.color,id=item.id,width=item.width,previousIds=allPreviousIds[index];return(0,jsx_runtime.jsx)(LineStyle,{$width:"".concat(width,"%"),$backgroundColor:color,$zIndex:processedData.length-index,$border:border,$isFullWidth:100===width,children:(0,jsx_runtime.jsx)(ChartLineLabel,ChartLine_object_spread({zIndex:processedData.length-index,show:showLabels,previousIds,height,thresholdType,containerId},item))},id)}))}))})}));ChartLine.displayName="ChartLine";var _Basic_parameters,_Basic_parameters_docs,_Basic_parameters1,_ChartInModal_parameters,_ChartInModal_parameters_docs,_ChartInModal_parameters1,modal=__webpack_require__("./packages/modal/index.ts");function ChartLine_stories_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ChartLine_stories_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ChartLine_stories_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){ChartLine_stories_define_property(target,key,source[key])}))}return target}function ChartLine_stories_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ChartLine_stories_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function ChartLine_stories_object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function ChartLine_stories_object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function ChartLine_stories_sliced_to_array(arr,i){return function ChartLine_stories_array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function ChartLine_stories_iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function ChartLine_stories_unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return ChartLine_stories_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ChartLine_stories_array_like_to_array(o,minLen)}(arr,i)||function ChartLine_stories_non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var getOptions=function(enumObject){return Object.values(enumObject).filter((function(value){return"string"==typeof value}))};const ChartLine_stories={component:ChartLine,title:"Charts/ChartLine",args:{demoMaxValue:1e3,useMaxValue:!0,demoCount:3,demoViewportWidth:600,loading:!1,height:20,border:"rounded",thresholdType:"flag",showLabels:!0},argTypes:{demoMaxValue:{control:{type:"range",min:100,max:1e3,step:100}},demoViewportWidth:{control:{type:"range",min:200,max:1e3,step:100}},height:{control:{type:"range",min:3,max:24,step:1}},border:{options:getOptions(ChartLineBorderType),control:"inline-radio"},thresholdType:{options:getOptions(ChartLineThresholdType),control:"inline-radio"},demoCount:{control:{type:"range",min:0,max:5,step:1}},showLabels:{control:"boolean"}}};var randomColor=function(index){return hslToHex(137.508*(index+1)%360|0,65+5*index%30,45+7*index%20)},hslToHex=function(h,s,l){l/=100;var a=s*Math.min(l,1-l)/100,f=function(n){var k=(n+h/30)%12,color=l-a*Math.max(Math.min(k-3,9-k,1),-1);return Math.round(255*color).toString(16).padStart(2,"0")};return"#".concat(f(0)).concat(f(8)).concat(f(4))},DescriptionComponent=function(){return(0,jsx_runtime.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:["Description Component ",(0,jsx_runtime.jsx)(icons.Question,{style:{width:16,height:16}})]})},descriptionElement=(0,jsx_runtime.jsx)(DescriptionComponent,{}),useChartData=function(props){var demoCount=props.demoCount,values=Array.from({length:demoCount},(function(_,index){return demoCount+index})),colors=Array.from({length:demoCount},(function(_,index){return randomColor(index)})),data=values.map((function(value,index){return{color:colors[index],threshold:{value:10*value,label:"".concat(value,"%"),description:"Forced Rebalance Threshold"},labelPosition:index%2==0?"top":"bottom"}}));return data.push({threshold:{value:90,color:"#FF0000",label:"90%",description:"Forced Rebalance Threshold",descriptionElement},labelPosition:"top"}),data},Basic=function(props){var demoCount=props.demoCount,demoMaxValue=props.demoMaxValue,useMaxValue=props.useMaxValue,demoViewportWidth=props.demoViewportWidth,rest=ChartLine_stories_object_without_properties(props,["demoCount","demoMaxValue","useMaxValue","demoViewportWidth"]),data=useChartData({demoCount});return(0,jsx_runtime.jsx)("div",{style:{width:"".concat(demoViewportWidth,"px")},children:(0,jsx_runtime.jsx)(ChartLine,ChartLine_stories_object_spread_props(ChartLine_stories_object_spread({},rest),{data,maxValue:useMaxValue?demoMaxValue:void 0}))})},ChartInModal=function(props){var demoCount=props.demoCount,demoMaxValue=props.demoMaxValue,useMaxValue=props.useMaxValue,demoViewportWidth=props.demoViewportWidth,rest=ChartLine_stories_object_without_properties(props,["demoCount","demoMaxValue","useMaxValue","demoViewportWidth"]),_useState=ChartLine_stories_sliced_to_array((0,react.useState)(!1),2),isOpen=_useState[0],setIsOpen=_useState[1],data=useChartData({demoCount}),staticData=[{color:randomColor(0),threshold:{value:90,color:randomColor(0),label:"90%",description:"Forced Rebalance Threshold",descriptionElement},labelPosition:"top"},{color:randomColor(1),threshold:{value:50,color:randomColor(1),label:"50%",description:"Forced Rebalance Threshold",descriptionElement},labelPosition:"top"}];return(0,jsx_runtime.jsxs)("div",{style:{width:"".concat(demoViewportWidth,"px")},children:[(0,jsx_runtime.jsx)("button",{onClick:function(){return setIsOpen(!0)},children:"Open Modal"}),(0,jsx_runtime.jsx)(ChartLine,{data:staticData,height:20,showLabels:!0,border:ChartLineBorderType.rounded,thresholdType:ChartLineThresholdType.flag}),(0,jsx_runtime.jsx)(modal.aF,{open:isOpen,onClose:function(){return setIsOpen(!1)},children:(0,jsx_runtime.jsx)(ChartLine,ChartLine_stories_object_spread_props(ChartLine_stories_object_spread({},rest),{data,maxValue:useMaxValue?demoMaxValue:void 0}))})]})};Basic.parameters=ChartLine_stories_object_spread_props(ChartLine_stories_object_spread({},Basic.parameters),{docs:ChartLine_stories_object_spread_props(ChartLine_stories_object_spread({},null===(_Basic_parameters=Basic.parameters)||void 0===_Basic_parameters?void 0:_Basic_parameters.docs),{source:ChartLine_stories_object_spread({originalSource:"props => {\n  const {\n    demoCount,\n    demoMaxValue,\n    useMaxValue,\n    demoViewportWidth,\n    ...rest\n  } = props;\n  const data = useChartData({\n    demoCount\n  });\n  return <div style={{\n    width: `${demoViewportWidth}px`\n  }}>\n      <ChartLine {...rest} data={data} maxValue={useMaxValue ? demoMaxValue : undefined} />\n    </div>;\n}"},null===(_Basic_parameters1=Basic.parameters)||void 0===_Basic_parameters1||null===(_Basic_parameters_docs=_Basic_parameters1.docs)||void 0===_Basic_parameters_docs?void 0:_Basic_parameters_docs.source)})}),ChartInModal.parameters=ChartLine_stories_object_spread_props(ChartLine_stories_object_spread({},ChartInModal.parameters),{docs:ChartLine_stories_object_spread_props(ChartLine_stories_object_spread({},null===(_ChartInModal_parameters=ChartInModal.parameters)||void 0===_ChartInModal_parameters?void 0:_ChartInModal_parameters.docs),{source:ChartLine_stories_object_spread({originalSource:"props => {\n  const {\n    demoCount,\n    demoMaxValue,\n    useMaxValue,\n    demoViewportWidth,\n    ...rest\n  } = props;\n  const [isOpen, setIsOpen] = useState(false);\n  const data = useChartData({\n    demoCount\n  });\n  const staticData: LineData[] = [{\n    color: randomColor(0),\n    threshold: {\n      value: 90,\n      color: randomColor(0),\n      label: '90%',\n      description: 'Forced Rebalance Threshold',\n      descriptionElement\n    },\n    labelPosition: 'top'\n  }, {\n    color: randomColor(1),\n    threshold: {\n      value: 50,\n      color: randomColor(1),\n      label: '50%',\n      description: 'Forced Rebalance Threshold',\n      descriptionElement\n    },\n    labelPosition: 'top'\n  }];\n  return <div style={{\n    width: `${demoViewportWidth}px`\n  }}>\n      <button onClick={() => setIsOpen(true)}>Open Modal</button>\n      <ChartLine data={staticData} height={20} showLabels={true} border={ChartLineBorderType.rounded} thresholdType={ChartLineThresholdType.flag} />\n      <Modal open={isOpen} onClose={() => setIsOpen(false)}>\n        <ChartLine {...rest} data={data} maxValue={useMaxValue ? demoMaxValue : undefined} />\n      </Modal>\n    </div>;\n}"},null===(_ChartInModal_parameters1=ChartInModal.parameters)||void 0===_ChartInModal_parameters1||null===(_ChartInModal_parameters_docs=_ChartInModal_parameters1.docs)||void 0===_ChartInModal_parameters_docs?void 0:_ChartInModal_parameters_docs.source)})})},"./packages/modal/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{aF:()=>Modal.a,yl:()=>ModalButton,KC:()=>ModalExtra,RH:()=>ModalWindowSize});var Modal=__webpack_require__("./packages/modal/Modal.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),styled_components_wrapper=__webpack_require__("./packages/utils/styled-components-wrapper.ts");function _templateObject(){var data=function _tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  margin-top: ","px;\n  color: var(--lido-color-accentContrast);\n  background: var(--lido-color-accent);\n  padding: ","px;\n  padding-top: ","px;\n  border-bottom-left-radius: inherit;\n  border-bottom-right-radius: inherit;\n\n  "," {\n    padding: ","px;\n    padding-top: ","px;\n  }\n"]);return _templateObject=function _templateObject(){return data},data}var ModalExtraStyle=styled_components_wrapper.Ay.div(_templateObject(),(function(param){return-param.theme.borderRadiusesMap.xl}),(function(param){return param.theme.spaceMap.xxl}),(function(param){var theme=param.theme;return theme.borderRadiusesMap.xl+theme.spaceMap.xxl}),(function(param){return param.theme.mediaQueries.md}),(function(param){return param.theme.spaceMap.lg}),(function(param){var theme=param.theme;return theme.borderRadiusesMap.xl+theme.spaceMap.lg}));function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}var ModalExtra=(0,react.forwardRef)((function(props,ref){return(0,jsx_runtime.jsx)(ModalExtraStyle,_object_spread_props(function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}({},props),{ref}))}));ModalExtra.displayName="ModalExtra";__webpack_require__("./packages/modal/ModalOverlay.tsx");var packages_button=__webpack_require__("./packages/button/index.ts");function ModalButtonStyles_tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function ModalButtonStyles_templateObject(){var data=ModalButtonStyles_tagged_template_literal(["\n  border: ",";\n  background-color: ",";\n  color: var(--lido-color-text);\n\n  :not(:disabled):hover,\n  :focus-visible {\n    background-color: rgb(0 163 255 / 10%);\n    color: var(--lido-color-text);\n  }\n"]);return ModalButtonStyles_templateObject=function _templateObject(){return data},data}function _templateObject1(){var data=ModalButtonStyles_tagged_template_literal(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n"]);return _templateObject1=function _templateObject(){return data},data}var ModalButtonStyle=(0,styled_components_wrapper.Ay)(packages_button.$n)(ModalButtonStyles_templateObject(),(function(param){return param.active?"1px solid var(--lido-color-primary)":"1px solid var(--lido-color-background)"}),(function(param){return param.active?"rgba(0, 163, 255, 0.1);":"var(--lido-color-background)"})),ModalButtonContentStyle=styled_components_wrapper.Ay.span(_templateObject1());function ModalButton_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ModalButton_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){ModalButton_define_property(target,key,source[key])}))}return target}function ModalButton_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ModalButton_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var ModalWindowSize,iconSize={xxs:{width:"16px",height:"16px"},xs:{width:"24px",height:"24px"},sm:{width:"32px",height:"32px"},md:{width:"48px",height:"48px"},lg:{width:"64px",height:"64px"}},ModalButton=(0,react.forwardRef)((function(_param,ref){var _param_size=_param.size,size=void 0===_param_size?"md":_param_size,_param_loading=_param.loading,loading=void 0!==_param_loading&&_param_loading,children=_param.children,icon=_param.icon,rest=_object_without_properties(_param,["size","loading","children","icon"]),AdaptiveIconProps=icon.props.width||icon.props.height?icon.props:ModalButton_object_spread({},iconSize[size]),AdaptiveIcon=(0,react.cloneElement)(icon,AdaptiveIconProps);return(0,jsx_runtime.jsx)(ModalButtonStyle,ModalButton_object_spread_props(ModalButton_object_spread({type:"button",size,loading,ref,icon},rest),{children:(0,jsx_runtime.jsxs)(ModalButtonContentStyle,{children:[children," ",AdaptiveIcon]})}))}));ModalButton.displayName="ModalButton",function(ModalWindowSize){ModalWindowSize[ModalWindowSize.sm=0]="sm",ModalWindowSize[ModalWindowSize.md=1]="md",ModalWindowSize[ModalWindowSize.lg=2]="lg"}(ModalWindowSize||(ModalWindowSize={}))}}]);