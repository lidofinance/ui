"use strict";(self.webpackChunk_lidofinance_lido_ui=self.webpackChunk_lidofinance_lido_ui||[]).push([[4317],{"./packages/chart-line/ChartLine.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,default:()=>ChartLine_stories});var ChartLineThresholdType,ChartLineBorderType,jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),icons=__webpack_require__("./packages/icons/index.tsx"),react=__webpack_require__("./node_modules/react/index.js"),loaders=__webpack_require__("./packages/loaders/index.ts");!function(ChartLineThresholdType){ChartLineThresholdType.dash="dash",ChartLineThresholdType.flag="flag"}(ChartLineThresholdType||(ChartLineThresholdType={})),function(ChartLineBorderType){ChartLineBorderType.rounded="rounded",ChartLineBorderType.square="square"}(ChartLineBorderType||(ChartLineBorderType={}));var styled_components_wrapper=__webpack_require__("./packages/utils/styled-components-wrapper.ts");function _tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _templateObject(){var data=_tagged_template_literal(["\n  display: flex;\n  width: 100%;\n  align-items: ",";\n  height: ","px;\n"]);return _templateObject=function _templateObject(){return data},data}function _templateObject1(){var data=_tagged_template_literal(["\n        border-radius: 4px;\n      "]);return _templateObject1=function _templateObject(){return data},data}function _templateObject2(){var data=_tagged_template_literal([""]);return _templateObject2=function _templateObject(){return data},data}function _templateObject3(){var data=_tagged_template_literal(["\n  display: flex;\n  width: 100%;\n  height: ","px;\n  background: rgb(19 18 23 / 8%);\n  position: relative;\n\n  ","\n"]);return _templateObject3=function _templateObject(){return data},data}function _templateObject4(){var data=_tagged_template_literal(["\n        bottom: -2px;\n        top: unset;\n      "]);return _templateObject4=function _templateObject(){return data},data}function _templateObject5(){var data=_tagged_template_literal([""]);return _templateObject5=function _templateObject(){return data},data}function _templateObject6(){var data=_tagged_template_literal(["\n        height: ","px;\n        top: -2px;\n      "]);return _templateObject6=function _templateObject(){return data},data}function _templateObject7(){var data=_tagged_template_literal([""]);return _templateObject7=function _templateObject(){return data},data}function _templateObject8(){var data=_tagged_template_literal(["\n  height: ","px;\n  width: 5px;\n  background-color: ",";\n  z-index: ",";\n  position: absolute;\n  border-radius: 3px;\n  top: -2px;\n  right: -2px;\n\n  ","\n\n  ","\n"]);return _templateObject8=function _templateObject(){return data},data}function _templateObject9(){var data=_tagged_template_literal(["\n        top: -2px;\n        bottom: unset;\n      "]);return _templateObject9=function _templateObject(){return data},data}function _templateObject10(){var data=_tagged_template_literal([""]);return _templateObject10=function _templateObject(){return data},data}function _templateObject11(){var data=_tagged_template_literal(["\n  color: ",";\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 20px;\n  padding: 4px 8px;\n  position: absolute;\n  bottom: -2px;\n  right: 0;\n  border-radius: 4px;\n  white-space: nowrap;\n  box-sizing: border-box;\n  max-height: 28px;\n\n  ",";\n"]);return _templateObject11=function _templateObject(){return data},data}function _templateObject12(){var data=_tagged_template_literal(["\n        border-radius: 4px 0 0 4px;\n      "]);return _templateObject12=function _templateObject(){return data},data}function _templateObject13(){var data=_tagged_template_literal([""]);return _templateObject13=function _templateObject(){return data},data}function _templateObject14(){var data=_tagged_template_literal(["\n          border-radius: 4px;\n        "]);return _templateObject14=function _templateObject(){return data},data}function _templateObject15(){var data=_tagged_template_literal([""]);return _templateObject15=function _templateObject(){return data},data}function _templateObject16(){var data=_tagged_template_literal(["\n  background-color: ",";\n  z-index: ",";\n  width: ",";\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  border-right: 1px solid ",";\n\n  ","\n\n  &:last-child {\n    ","\n  }\n"]);return _templateObject16=function _templateObject(){return data},data}var ContainerStyle=styled_components_wrapper.Ay.div(_templateObject(),(function(param){return param.$alignItems}),(function(param){return param.$height})),WrapperStyle=styled_components_wrapper.Ay.div(_templateObject3(),(function(param){return param.$height}),(function(param){return param.$border===ChartLineBorderType.rounded?(0,styled_components_wrapper.AH)(_templateObject1()):(0,styled_components_wrapper.AH)(_templateObject2())})),ThresholdStyle=styled_components_wrapper.Ay.div(_templateObject8(),(function(param){return param.$height+38}),(function(param){return param.$backgroundColor}),(function(param){return param.$zIndex}),(function(param){return"top"===param.$labelPosition?(0,styled_components_wrapper.AH)(_templateObject4()):(0,styled_components_wrapper.AH)(_templateObject5())}),(function(param){var $thresholdType=param.$thresholdType,$height=param.$height;return $thresholdType===ChartLineThresholdType.dash?(0,styled_components_wrapper.AH)(_templateObject6(),$height+4):(0,styled_components_wrapper.AH)(_templateObject7())})),ThresholdLabelStyle=styled_components_wrapper.Ay.div(_templateObject11(),(function(param){return param.theme.colors.foreground}),(function(param){return"top"===param.$labelPosition?(0,styled_components_wrapper.AH)(_templateObject9()):(0,styled_components_wrapper.AH)(_templateObject10())})),LineStyle=styled_components_wrapper.Ay.div(_templateObject16(),(function(param){var $backgroundColor=param.$backgroundColor;return $backgroundColor||"transparent"}),(function(param){return param.$zIndex}),(function(param){return param.$width}),(function(param){return param.theme.colors.background}),(function(param){return param.$border===ChartLineBorderType.rounded?(0,styled_components_wrapper.AH)(_templateObject12()):(0,styled_components_wrapper.AH)(_templateObject13())}),(function(param){var $border=param.$border,$isFullWidth=param.$isFullWidth;return $border===ChartLineBorderType.rounded&&$isFullWidth?(0,styled_components_wrapper.AH)(_templateObject14()):(0,styled_components_wrapper.AH)(_templateObject15())})),getElementData=function(id){var threshold=document.getElementById(id),label=document.getElementById("".concat(id,"-description"));if(!threshold||!label)return null;var container=document.getElementById("chart-line-container");if(!container)return null;var originalTransform=label.style.transform;label.style.removeProperty("transform");var thresholdRect=threshold.getBoundingClientRect(),labelRect=label.getBoundingClientRect(),containerRect=container.getBoundingClientRect();return originalTransform&&label.style.setProperty("transform",originalTransform),{elements:{threshold,label},rects:{threshold:thresholdRect,label:labelRect},containerRect}},handlePositioning=function(props){var _props_previousIds=props.previousIds,previousIds=void 0===_props_previousIds?[]:_props_previousIds,id=props.id,reset=props.reset;if("undefined"!=typeof window)if(reset)(threshold=document.getElementById(id))&&threshold.style.removeProperty("height");else{var threshold,currentData=getElementData(id);if(currentData){var label,currentElements=currentData.elements,currentRects=currentData.rects,containerRect=currentData.containerRect,currentIsInverted=function(thresholdRect,labelRect,containerRect,viewportWidth){var isInverted=(position=containerRect.right-thresholdRect.right,elemSize=labelRect.width,viewportSize=viewportWidth,position+elemSize+8>viewportSize&&viewportSize-position+elemSize+8<viewportSize);var position,elemSize,viewportSize;return isInverted}(currentRects.threshold,currentRects.label,containerRect,containerRect.width);label=currentElements.label,currentIsInverted?(label.style.setProperty("left","0px"),label.style.setProperty("right","auto"),label.dataset.isInverted="true"):(label.style.setProperty("right","0px"),label.style.setProperty("left","auto"),label.dataset.isInverted="false");var currentOffset=function(thresholdRect,labelRect,containerRect,isInverted){if(isInverted){var labelRightEdge=thresholdRect.left+labelRect.width,containerRightEdge=containerRect.right-8;if(labelRightEdge>containerRightEdge)return labelRightEdge-containerRightEdge}else{var labelLeftEdge=thresholdRect.right-labelRect.width,containerLeftEdge=containerRect.left+8;if(labelLeftEdge<containerLeftEdge)return containerLeftEdge-labelLeftEdge}return 0}(currentRects.threshold,currentRects.label,containerRect,currentIsInverted);if(currentOffset>0){var direction=currentIsInverted?-currentOffset:currentOffset;currentElements.label.style.setProperty("transform","translateX(".concat(direction,"px)"))}else currentElements.label.style.removeProperty("transform");var previousId=function(previousIds,currentId){var currentElement=document.getElementById(currentId);if(!currentElement)return null;for(var currentLabelPosition=currentElement.dataset.labelPosition,i=previousIds.length-1;i>=0;i--){var _element,id=previousIds[i];if((null===(_element=document.getElementById(id))||void 0===_element?void 0:_element.dataset.labelPosition)===currentLabelPosition)return id}return null}(previousIds,id);if(previousId){var previousData=getElementData(previousId);if(previousData){var currentRect,previousRect,currentLabelRect,previousRects=previousData.rects,previousIsInverted="true"===previousData.elements.label.dataset.isInverted;if((currentRect=currentRects.threshold,previousRect=previousRects.threshold,currentLabelRect=currentRects.label,previousIsInverted?currentRect.left-previousRect.left-currentLabelRect.width:currentRect.left-previousRect.left)<currentRects.label.width){var newHeight=previousRects.threshold.height+36;currentElements.threshold.style.setProperty("height","".concat(newHeight,"px"))}}}}}};function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var ChartLineLabel=(0,react.forwardRef)((function(props,ref){var previousIds=props.previousIds,id=props.id,color=props.color,zIndex=props.zIndex,show=props.show,labelPosition=props.labelPosition,thresholdType=props.thresholdType,height=props.height,threshold=props.threshold,rest=_object_without_properties(props,["previousIds","id","color","zIndex","show","labelPosition","thresholdType","height","threshold"]);if((0,react.useLayoutEffect)((function(){show&&(thresholdType!==ChartLineThresholdType.flag?handlePositioning({previousIds,id,reset:!0}):handlePositioning({previousIds,id}))}),[previousIds,id,show,thresholdType]),!show)return null;var backgroundColor=threshold.color||color,content=threshold.descriptionElement||threshold.description;return(0,jsx_runtime.jsx)(ThresholdStyle,_object_spread_props(function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}({ref,id,"data-label-position":labelPosition,$labelPosition:labelPosition,$thresholdType:thresholdType,$height:height,$backgroundColor:backgroundColor,$zIndex:zIndex},rest),{children:thresholdType===ChartLineThresholdType.flag&&(0,jsx_runtime.jsx)(ThresholdLabelStyle,{style:{backgroundColor},id:"".concat(id,"-description"),$labelPosition:labelPosition,children:content})}))}));function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function processData_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function processData_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function processData_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}ChartLineLabel.displayName="ChartLineLabel";var processData=function(data,maxValue){var _Math,calculatedMaxValue=null!=maxValue?maxValue:(_Math=Math).max.apply(_Math,_to_consumable_array(data.map((function(item){return item.threshold.value}))));return data.sort((function(a,b){return a.threshold.value-b.threshold.value})).reduce((function(acc,item,index){var threshold=item.threshold,id="chart-percent-line-group-".concat(index,"-").concat(threshold.label),width=threshold.value/(calculatedMaxValue/100),processedItem=processData_object_spread_props(function processData_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){processData_define_property(target,key,source[key])}))}return target}({},item),{id,index,width});return acc.data.push(processedItem),acc.ids.push(id),acc}),{data:[],ids:[]})};function ChartLine_array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ChartLine_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ChartLine_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){ChartLine_define_property(target,key,source[key])}))}return target}function ChartLine_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ChartLine_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function ChartLine_object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function ChartLine_object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _sliced_to_array(arr,i){return function _array_with_holes(arr){if(Array.isArray(arr))return arr}(arr)||function _iterable_to_array_limit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function ChartLine_unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return ChartLine_array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ChartLine_array_like_to_array(o,minLen)}(arr,i)||function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _Basic_parameters,_Basic_parameters_docs,_Basic_parameters1,ChartLine=(0,react.forwardRef)((function(props,ref){var _containerSize,_containerSize1,_containerSize_size,_props_loading=props.loading,loading=void 0!==_props_loading&&_props_loading,height=(props.onClick,props.children,props.height),border=props.border,data=props.data,showLabels=props.showLabels,maxValue=props.maxValue,thresholdType=props.thresholdType,rest=ChartLine_object_without_properties(props,["loading","onClick","children","height","border","data","showLabels","maxValue","thresholdType"]),_useState=_sliced_to_array((0,react.useState)(null),2),containerSize=_useState[0],setContainerSize=_useState[1],_useMemo=(0,react.useMemo)((function(){return processData(data,maxValue)}),[data,maxValue]),processedData=_useMemo.data,ids=_useMemo.ids,allPreviousIds=(0,react.useMemo)((function(){return ids.map((function(_,index){return ids.slice(0,index)}))}),[ids]);return(0,react.useLayoutEffect)((function(){if(showLabels){var containerSize=function(elementIds){if(!elementIds.length)return null;var isCenterAlign=elementIds.every((function(id){var _element,_element1,element=document.getElementById(id);return"top"===(null===(_element=element)||void 0===_element?void 0:_element.dataset.labelPosition)||"bottom"===(null===(_element1=element)||void 0===_element1?void 0:_element1.dataset.labelPosition)})),size=elementIds.reduce((function(acc,id){var element=document.getElementById(id);return element&&element.offsetHeight>0?Math.max(acc,element.offsetHeight):acc}),0);return{size:isCenterAlign?2*size:size,isCenterAlign}}(ids);setContainerSize(containerSize)}else setContainerSize(null)}),[ids,showLabels]),loading?(0,jsx_runtime.jsx)(WrapperStyle,ChartLine_object_spread_props(ChartLine_object_spread({$border:border,$height:height,ref},rest),{children:(0,jsx_runtime.jsx)(loaders.FL,{})})):(0,jsx_runtime.jsx)(ContainerStyle,{id:"chart-line-container",$alignItems:(null===(_containerSize=containerSize)||void 0===_containerSize?void 0:_containerSize.isCenterAlign)?"center":"flex-start",$height:null!==(_containerSize_size=null===(_containerSize1=containerSize)||void 0===_containerSize1?void 0:_containerSize1.size)&&void 0!==_containerSize_size?_containerSize_size:0,children:(0,jsx_runtime.jsx)(WrapperStyle,ChartLine_object_spread_props(ChartLine_object_spread({$border:border,$height:height,ref},rest),{children:processedData.map((function(item,index){var color=item.color,id=item.id,width=item.width,previousIds=allPreviousIds[index];return(0,jsx_runtime.jsx)(LineStyle,{$width:"".concat(width,"%"),$backgroundColor:color,$zIndex:processedData.length-index,$border:border,$isFullWidth:100===width,children:(0,jsx_runtime.jsx)(ChartLineLabel,ChartLine_object_spread({zIndex:processedData.length-index,show:showLabels,previousIds,height,thresholdType},item))},id)}))}))})}));function ChartLine_stories_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ChartLine_stories_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){ChartLine_stories_define_property(target,key,source[key])}))}return target}function ChartLine_stories_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ChartLine_stories_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function ChartLine_stories_object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function ChartLine_stories_object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}ChartLine.displayName="ChartLine";var getOptions=function(enumObject){return Object.values(enumObject).filter((function(value){return"string"==typeof value}))};const ChartLine_stories={component:ChartLine,title:"Charts/ChartLine",args:{demoMaxValue:1e3,useMaxValue:!0,demoCount:3,demoViewportWidth:600,loading:!1,height:20,border:"rounded",thresholdType:"flag",showLabels:!0},argTypes:{demoMaxValue:{control:{type:"range",min:100,max:1e3,step:100}},demoViewportWidth:{control:{type:"range",min:200,max:1e3,step:100}},height:{control:{type:"range",min:3,max:24,step:1}},border:{options:getOptions(ChartLineBorderType),control:"inline-radio"},thresholdType:{options:getOptions(ChartLineThresholdType),control:"inline-radio"},demoCount:{control:{type:"range",min:0,max:5,step:1}},showLabels:{control:"boolean"}}};var hslToHex=function(h,s,l){l/=100;var a=s*Math.min(l,1-l)/100,f=function(n){var k=(n+h/30)%12,color=l-a*Math.max(Math.min(k-3,9-k,1),-1);return Math.round(255*color).toString(16).padStart(2,"0")};return"#".concat(f(0)).concat(f(8)).concat(f(4))},DescriptionComponent=function(){return(0,jsx_runtime.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:["Description Component ",(0,jsx_runtime.jsx)(icons.Question,{style:{width:16,height:16}})]})},descriptionElement=(0,jsx_runtime.jsx)(DescriptionComponent,{}),Basic=function(props){var demoCount=props.demoCount,demoMaxValue=props.demoMaxValue,useMaxValue=props.useMaxValue,demoViewportWidth=props.demoViewportWidth,rest=ChartLine_stories_object_without_properties(props,["demoCount","demoMaxValue","useMaxValue","demoViewportWidth"]),values=Array.from({length:demoCount},(function(_,index){return demoCount+index})),colors=Array.from({length:demoCount},(function(_,index){return function(index){return hslToHex(137.508*(index+1)%360|0,65+5*index%30,45+7*index%20)}(index)})),data=values.map((function(value,index){return{color:colors[index],threshold:{value:10*value,label:"".concat(value,"%"),description:"Forced Rebalance Threshold"},labelPosition:index%2==0?"top":"bottom"}}));return data.push({threshold:{value:90,color:"#FF0000",label:"90%",description:"Forced Rebalance Threshold",descriptionElement},labelPosition:"top"}),(0,jsx_runtime.jsx)("div",{style:{width:"".concat(demoViewportWidth,"px")},children:(0,jsx_runtime.jsx)(ChartLine,ChartLine_stories_object_spread_props(ChartLine_stories_object_spread({},rest),{data,maxValue:useMaxValue?demoMaxValue:void 0}))})};Basic.parameters=ChartLine_stories_object_spread_props(ChartLine_stories_object_spread({},Basic.parameters),{docs:ChartLine_stories_object_spread_props(ChartLine_stories_object_spread({},null===(_Basic_parameters=Basic.parameters)||void 0===_Basic_parameters?void 0:_Basic_parameters.docs),{source:ChartLine_stories_object_spread({originalSource:"props => {\n  const {\n    demoCount,\n    demoMaxValue,\n    useMaxValue,\n    demoViewportWidth,\n    ...rest\n  } = props;\n  const values = Array.from({\n    length: demoCount\n  }, (_, index) => demoCount + index);\n  const colors = Array.from({\n    length: demoCount\n  }, (_, index) => randomColor(index));\n  const data: LineData[] = values.map((value, index) => ({\n    color: colors[index],\n    threshold: {\n      value: value * 10,\n      label: `${value}%`,\n      description: 'Forced Rebalance Threshold'\n    },\n    labelPosition: index % 2 === 0 ? ('top' as 'top' | 'bottom') : 'bottom'\n  }));\n  data.push({\n    threshold: {\n      value: 90,\n      color: '#FF0000',\n      label: '90%',\n      description: 'Forced Rebalance Threshold',\n      descriptionElement\n    },\n    labelPosition: 'top'\n  });\n  return <div style={{\n    width: `${demoViewportWidth}px`\n  }}>\n      <ChartLine {...rest} data={data} maxValue={useMaxValue ? demoMaxValue : undefined} />\n    </div>;\n}"},null===(_Basic_parameters1=Basic.parameters)||void 0===_Basic_parameters1||null===(_Basic_parameters_docs=_Basic_parameters1.docs)||void 0===_Basic_parameters_docs?void 0:_Basic_parameters_docs.source)})})},"./packages/loaders/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FL:()=>InlineLoader,I8:()=>InlineLoaderColor,aH:()=>Loader,N0:()=>LoaderColor,Pe:()=>LoaderSize});var LoaderSize,LoaderColor,InlineLoaderColor,jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js");!function(LoaderSize){LoaderSize[LoaderSize.small=18]="small",LoaderSize[LoaderSize.medium=24]="medium",LoaderSize[LoaderSize.large=64]="large"}(LoaderSize||(LoaderSize={})),function(LoaderColor){LoaderColor[LoaderColor.primary=0]="primary",LoaderColor[LoaderColor.secondary=1]="secondary",LoaderColor[LoaderColor.foreground=2]="foreground",LoaderColor[LoaderColor.success=3]="success"}(LoaderColor||(LoaderColor={})),function(InlineLoaderColor){InlineLoaderColor[InlineLoaderColor.text=0]="text",InlineLoaderColor[InlineLoaderColor.secondary=1]="secondary",InlineLoaderColor[InlineLoaderColor.foreground=2]="foreground"}(InlineLoaderColor||(InlineLoaderColor={}));var styled_components_wrapper=__webpack_require__("./packages/utils/styled-components-wrapper.ts");function _tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _templateObject(){var data=_tagged_template_literal(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return _templateObject=function _templateObject(){return data},data}function _templateObject1(){var data=_tagged_template_literal(["\n  margin: 0;\n  padding: 0;\n  line-height: 0;\n  width: ","px;\n  height: ","px;\n  color: ",";\n"]);return _templateObject1=function _templateObject(){return data},data}function _templateObject2(){var data=_tagged_template_literal(["\n  fill: none;\n  stroke: currentcolor;\n  stroke-width: ",";\n  opacity: 0.2;\n"]);return _templateObject2=function _templateObject(){return data},data}function _templateObject3(){var data=_tagged_template_literal(["\n  fill: none;\n  stroke: currentcolor;\n  stroke-linecap: round;\n  stroke-width: ",";\n  stroke-dasharray: ",";\n  transform: rotate(0deg);\n  transform-origin: 50% 50%;\n  animation: "," 1.4s linear infinite;\n"]);return _templateObject3=function _templateObject(){return data},data}var rotation=(0,styled_components_wrapper.i7)(_templateObject()),LoaderStyle=styled_components_wrapper.Ay.div(_templateObject1(),(function(props){return props.$size}),(function(props){return props.$size}),(function(param){var $color=param.$color;return"var(--lido-color-".concat($color,")")})),LoaderCircleBgStyle=styled_components_wrapper.Ay.circle(_templateObject2(),(function(props){return props.$thickness})),LoaderCircleFgStyle=styled_components_wrapper.Ay.circle(_templateObject3(),(function(props){return props.$thickness}),(function(props){var circumference=2*props.r*Math.PI;return"".concat(.25*circumference," ").concat(.75*circumference)}),rotation);function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function _object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Loader=(0,react.forwardRef)((function(_param,ref){var _param_size=_param.size,size=void 0===_param_size?"medium":_param_size,_param_thickness=_param.thickness,thickness=void 0===_param_thickness?3:_param_thickness,_param_color=_param.color,color=void 0===_param_color?"primary":_param_color,rest=_object_without_properties(_param,["size","thickness","color"]),pxSize=LoaderSize[size],center=pxSize/2,radius=pxSize/2-thickness/2;return(0,jsx_runtime.jsx)(LoaderStyle,_object_spread_props(function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}({$size:pxSize,$color:color},rest),{ref,children:(0,jsx_runtime.jsxs)("svg",{width:pxSize,height:pxSize,viewBox:"0 0 ".concat(pxSize," ").concat(pxSize),children:[(0,jsx_runtime.jsx)(LoaderCircleBgStyle,{$thickness:thickness,cx:center,cy:center,r:radius}),(0,jsx_runtime.jsx)(LoaderCircleFgStyle,{$thickness:thickness,cx:center,cy:center,r:radius})]})}))}));function InlineLoaderStyles_tagged_template_literal(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function InlineLoaderStyles_templateObject(){var data=InlineLoaderStyles_tagged_template_literal(["\n  100% {\n    background-position: 0 0;\n  }\n"]);return InlineLoaderStyles_templateObject=function _templateObject(){return data},data}function InlineLoaderStyles_templateObject1(){var data=InlineLoaderStyles_tagged_template_literal(["\n  --loader-color: ",";\n\n  width: 100%;\n  display: inline-block;\n  vertical-align: top;\n  border-radius: 1000px;\n  position: relative;\n  overflow: hidden;\n  user-select: none;\n  opacity: 0.05;\n  animation: "," 2s infinite;\n  background-size: 300% 100%;\n  background-position: 100% 0;\n  background-image: linear-gradient(\n    90deg,\n    var(--loader-color) 0,\n    var(--loader-color) 33.33%,\n    transparent 44.44%,\n    transparent 55.55%,\n    var(--loader-color) 66.66%,\n    var(--loader-color) 100%\n  );\n\n  &::after {\n    content: '';\n    position: absolute;\n    inset: 0;\n    background: var(--loader-color);\n    opacity: 0.2;\n  }\n"]);return InlineLoaderStyles_templateObject1=function _templateObject(){return data},data}Loader.displayName="Loader";var translation=(0,styled_components_wrapper.i7)(InlineLoaderStyles_templateObject()),InlineLoaderStyle=styled_components_wrapper.Ay.span(InlineLoaderStyles_templateObject1(),(function(param){var $color=param.$color;return $color?"var(--lido-color-".concat($color,")"):"currentColor"}),translation);function InlineLoader_define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function InlineLoader_object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function InlineLoader_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function InlineLoader_object_without_properties(source,excluded){if(null==source)return{};var key,i,target=function InlineLoader_object_without_properties_loose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var InlineLoader=(0,react.forwardRef)((function(_param,ref){var color=_param.color,rest=InlineLoader_object_without_properties(_param,["color"]),heightAdjuster=(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:" "});return(0,jsx_runtime.jsx)(InlineLoaderStyle,InlineLoader_object_spread_props(function InlineLoader_object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){InlineLoader_define_property(target,key,source[key])}))}return target}({$color:color},rest),{ref,children:heightAdjuster}))}));InlineLoader.displayName="InlineLoader"}}]);